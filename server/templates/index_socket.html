<!DOCTYPE html>
<html>
<head>
    <title>Monitoramento da Estufa</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
</head>
<body>
    <h1>Monitoramento da Estufa</h1>

    <table border="1">
        <thead>
            <tr>
                <th>Temperatura (Â°C)</th>
                <th>Umidade (%)</th>
                <th>Umidade do Solo (%)</th>
                <th>Luz (Lux)</th>
                <th>Data/Hora</th>
            </tr>
        </thead>
        <tbody id="tabela-dados">
            <!-- Dados inseridos dinamicamente -->
        </tbody>
    </table>

    <script>
        var socket = io.connect('http://' + document.domain + ':' + location.port);

        socket.on('atualizacao', function(data) {
            var tabela = document.getElementById("tabela-dados");
            tabela.innerHTML = "";  // Limpa a tabela

            data.forEach(function(row) {
                var linha = "<tr>";
                row.forEach(function(coluna) {
                    linha += "<td>" + coluna + "</td>";
                });
                linha += "</tr>";
                tabela.innerHTML += linha;
            });
        });
    </script>
</body>
</html>
